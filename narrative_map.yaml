```plaintext
Narrative Tree for "Shadows of the Past"

Root Scene:
Elara arrives in Havenport with a new story idea. (No requirements)
- Branch A: The Mysterious Artist
  - Scene B1: Elara meets the artist and investigates his work.
    - Puzzle/Door Lock: Solve the cryptic clues hidden in his paintings. (Key Item: Art Kit)
      - Ending A-1: She uncovers that the artist is a genius with a tragic past, leading to a forgivable ending.
      - Ending A-2: She chooses to keep the artist's true identity secret, creating a personal dilemma.
  - Scene B2: Elara learns of disappearances linked to the artist.
    - Puzzle/Door Lock: Piece together missing pieces of the story from various sources. (Key Item: Artist's Diary)
      - Ending A-1: She exposes the real culprit behind the disappearances, providing a just resolution.
      - Ending A-2: She keeps quiet about the true identity to protect his art and family.

Branch B: The Secret Society
  - Scene C1: Elara discovers evidence of illegal activities within Havenport.
    - Puzzle/Door Lock: Decode secret society symbols from intercepted messages. (Key Item: Decoding Device)
      - Ending B-1: She exposes the entire society, leading to public scandal and arrests but risking her safety.
      - Ending B-2: She decides to infiltrate for more evidence, facing a dramatic escape or going rogue.

Branch C: The Lost Treasure
  - Scene D1: Elara finds a map leading to lost treasure.
    - Puzzle/Door Lock: Solve riddles on the map to uncover its location. (Key Item: Map)
      - Ending C-1: She collaborates with historians and authorities, ensuring the treasure is used for good, gaining recognition but drawing attention from treasure hunters.
      - Ending C-2: She decides to take the treasure herself, risking town stability and setting off dangerous events.

Branch D: The Unseen Threat
  - Scene E1: Elara uncovers evidence of an external force infiltrating Havenport.
    - Puzzle/Door Lock: Gather intelligence from trusted sources without being detected. (Key Item: Informant's Code)
      - Ending D-1: She works with law enforcement, successfully thwarting the threat at a personal cost.
      - Ending D-2: She decides to go alone and uncover more about this unseen threat, leading to a potential confrontation.

Possible Endings:
1. Heroic Ending: Elara’s actions bring significant change to Havenport.
2. Personal Sacrifice Ending: Elara makes choices that lead to her own sacrifice for the greater good.
3. DramaEnding: The protagonist is torn between personal ethics and societal needs, leading to conflicts in relationships and personal life.
4. Ambiguous Ending: The truth remains unclear, leaving players with multiple interpretations of events.

Transitions:
- Each branch connects back to Elara’s central role as an investigative journalist.
- Scene connections are made through shared clues, characters, or locations that relate to each branch.
- Player choices in one path can unlock new paths and affect the overall outcome.
```

This structured narrative map provides a clear blueprint of scenes, transitions, puzzle/door locks, and the items or conditions required to progress, ensuring logical structure and progression flow for players.